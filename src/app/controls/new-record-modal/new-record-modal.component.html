<h2 mat-dialog-title >New Record</h2>

<form [formGroup]="timesheetForm" (ngSubmit)="onSubmit()">
<mat-form-field appearance="fill">
  <mat-label>Enter a date range</mat-label>
  <mat-date-range-input [rangePicker]="weekPicker" formControlName="weekRange">
    <input matStartDate placeholder="Start date" (dateChange)="onWeekSelected($event)" >
    <input matEndDate placeholder="End date" disabled>
  </mat-date-range-input>
  <mat-datepicker-toggle matSuffix [for]="weekPicker"></mat-datepicker-toggle>
  <mat-date-range-picker #weekPicker [dateClass]="dateClass"></mat-date-range-picker>
</mat-form-field>
  
    <!-- Project Selection -->
    <mat-form-field>
      <mat-label>Project</mat-label>
      <mat-select formControlName="projectId">
        <mat-option *ngFor="let project of projects" [value]="project.projectId">
          {{ project.projectCode }} - {{ project.country }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  
    <!-- Auto-populated Fields -->
    <mat-form-field>
      <mat-label>Country</mat-label>
      <input matInput formControlName="country" readonly>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Project Code</mat-label>
      <input matInput formControlName="projectCode" readonly>
    </mat-form-field>
  
    <!-- Code Dropdowns -->
    <mat-form-field>
      <mat-label>Discipline Code</mat-label>
      <mat-select formControlName="disciplineCodeId">
        <mat-option *ngFor="let code of disciplineCodes" [value]="code.disciplineCodeId">{{ code.disciplineName }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Stage Code</mat-label>
      <mat-select formControlName="stageId">
        <mat-option *ngFor="let code of stageCodes" [value]="code.stageId">{{ code.stageName }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field>
      <mat-label>Task Code</mat-label>
      <mat-select formControlName="taskId">
        <mat-option *ngFor="let code of taskCodes" [value]="code.taskId">{{ code.taskName }}</mat-option>
      </mat-select>
    </mat-form-field>
  
    <!-- Hours Inputs -->
  <!-- Hours Inputs -->
<div class="week-days">
  <mat-form-field>
    <mat-label>{{ weekDates[0] || 'Select Week' }}</mat-label>
    <input matInput type="number" formControlName="sun" min="0" max="24">
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{ weekDates[1] || 'Select Week' }}</mat-label>
    <input matInput type="number" formControlName="mon" min="0" max="24">
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{ weekDates[2] || 'Select Week' }}</mat-label>
    <input matInput type="number" formControlName="tue" min="0" max="24">
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{ weekDates[3] || 'Select Week' }}</mat-label>
    <input matInput type="number" formControlName="wed" min="0" max="24">
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{ weekDates[4] || 'Select Week' }}</mat-label>
    <input matInput type="number" formControlName="thu" min="0" max="24">
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{ weekDates[5] || 'Select Week' }}</mat-label>
    <input matInput type="number" formControlName="fri" min="0" max="24">
  </mat-form-field>
  <mat-form-field>
    <mat-label>{{ weekDates[6] || 'Select Week' }}</mat-label>
    <input matInput type="number" formControlName="sat" min="0" max="24">
  </mat-form-field>
</div>
  
    <!-- Remarks -->
    <mat-form-field>
      <mat-label>Remarks</mat-label>
      <textarea matInput formControlName="remarks"></textarea>
    </mat-form-field>
  
    <!-- Submit Button -->
    <button mat-raised-button color="primary" type="submit" [disabled]="timesheetForm.invalid">Submit</button>
  </form>